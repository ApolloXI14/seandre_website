{"ast":null,"code":"import React, { Component } from 'react'; //import Slideshow from '../components/Slideshow';\n\nimport styles from '../styles/slideshow.module.scss';\nimport Image from 'next/image';\nimport Navbar from '../components/Navbar.js';\nexport default class Poems extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = /*#__PURE__*/React.createRef();\n    this.state = {\n      imgArray: [],\n      currentIndex: 0\n    };\n  }\n\n  changeSlides(index, isDotChange) {\n    function checkSlideLimit(slideIndex, slidesArrayLength) {\n      if (slideIndex + index === -1) {\n        return slidesArrayLength - 1;\n      } else if (slideIndex + index > slidesArrayLength) {\n        return 0;\n      } else {\n        return slideIndex + index;\n      }\n    }\n\n    this.setState((state, props) => ({\n      currentIndex: isDotChange ? index : checkSlideLimit(state.currentIndex, state.imgArray.length)\n    }), () => {\n      this.myRef.current.scrollIntoView(); // ensure scroll to top occurs\n    });\n  }\n\n  componentDidMount(props) {\n    function importAll(req) {\n      var images = [];\n      req.keys().map((item, index) => {\n        console.log('item: ', item);\n        images.push(item.replace('./', ''));\n      });\n      return images;\n    }\n\n    var req = require.context(process.env.POEMS_DIR, true, /.jpg$|.png$/);\n\n    var array = importAll(req);\n    this.setState((state, props) => ({\n      imgArray: array\n    }));\n    console.log('imgArray: ', this.state);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Navbar, null), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"slideshowBody\"\n    }, \"INDEX: \", this.state.currentIndex, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.myRef,\n      id: \"dotsDiv\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"slideshow-container\",\n      className: styles['slideshow-container']\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"slidesDiv\"\n    }, this.state.imgArray.map((img, index, array) => /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.fade,\n      style: {\n        display: index === this.state.currentIndex ? 'block' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.numbertext\n    }, \" \", index + 1, \"  / \", array.length), /*#__PURE__*/React.createElement(Image, {\n      id: \"currentImg\",\n      src: \"/img/poems/\" + img\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: styles.slideshowButtons\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: styles.prev,\n      onClick: this.changeSlides.bind(this, -1, false)\n    }, \"\\u276E\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: styles.next,\n      onClick: this.changeSlides.bind(this, 1, false)\n    }, \"\\u276F\")))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}