{"ast":null,"code":"// TODO: CHANGE IMPORTDATA TO ONLY RETURN \"dataArray\" FOR JOURNAL, INSTEAD OF A WRAPPED COMPONENT\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport JournalMenu from '../../components/JournalMenu';\nimport JournalEntry from '../../components/JournalEntry';\nimport ReactDOM from 'react-dom';\nimport { ImportData } from '../../components/ImportData';\n\nclass Journal extends Component {\n  constructor(props) {\n    super(props);\n\n    var reqVar = require.context(process.env.JOURNAL_DIR, true, /.txt$/);\n\n    reqVar.keys().map((item, index) => {\n      console.log('journal item: ', item);\n      files.push(item.replace('./', ''));\n    });\n    this.state = {\n      // req: require.context(process.env.JOURNAL_DIR, true, /.txt$/),\n      currentEntryId: null,\n      dataArray: [],\n      fileNameArray: files\n    };\n  }\n\n  componentDidMount(props) {\n    var files = []; // this.state.req.keys().map((item, index) => {\n    //   console.log('journal item: ', item);\n    //   files.push(item.replace('./', '')); \n    // });\n    // this.setState((state, props) => ({\n    //     fileNameArray: files\n    // }));\n    // console.log('this.state: ', this.state);\n    // return files;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params) {\n      var currentEntryId = this.props.match.params.id ? Number(this.props.match.params.id) - 1 : null; // minusShifting for array\n\n      this.setState((state, props) => ({\n        currentEntryId: currentEntryId\n      }));\n    }\n  }\n\n  render() {\n    // const JournalMenuWithData = ImportData(JournalMenu, this.state.req);\n    // const JournalEntryWithData = ImportData(JournalEntry, this.state.req);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"journalContainer\"\n    }); // return (\n    //   <div id=\"journalContainer\">\n    //         {this.state.currentEntryId === null ? \n    //         <JournalMenuWithData req={this.state.req} array={this.state.dataArray} /> :\n    //         <JournalEntryWithData req={this.state.req} dataArray={this.state.dataArray} lastEntryId={this.state.dataArray.length} />}\n    //   </div>\n    // );\n  }\n\n}\n\nexport default Journal;","map":null,"metadata":{},"sourceType":"module"}