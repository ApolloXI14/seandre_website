{"ast":null,"code":"import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport JournalMenu from './JournalMenu';\nimport JournalEntry from './JournalEntry';\nimport ReactDOM from 'react-dom';\nimport { ImportData } from './ImportData';\n\nclass Journal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      req: require.context(JOURNAL_DIR, true, /.txt$/),\n      currentEntryId: null,\n      dataArray: []\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params) {\n      var currentEntryId = this.props.match.params.id ? Number(this.props.match.params.id) - 1 : null; // minusShifting for array\n\n      this.setState((state, props) => ({\n        currentEntryId: currentEntryId\n      }));\n    }\n  }\n\n  render() {\n    var JournalMenuWithData = ImportData(JournalMenu, this.state.req);\n    var JournalEntryWithData = ImportData(JournalEntry, this.state.req);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"journalContainer\"\n    }, this.state.currentEntryId === null ? /*#__PURE__*/React.createElement(JournalMenuWithData, {\n      req: this.state.req,\n      array: this.state.dataArray\n    }) : /*#__PURE__*/React.createElement(JournalEntryWithData, {\n      req: this.state.req,\n      dataArray: this.state.dataArray,\n      lastEntryId: this.state.dataArray.length\n    }));\n  }\n\n}\n\nexport default Journal;","map":null,"metadata":{},"sourceType":"module"}