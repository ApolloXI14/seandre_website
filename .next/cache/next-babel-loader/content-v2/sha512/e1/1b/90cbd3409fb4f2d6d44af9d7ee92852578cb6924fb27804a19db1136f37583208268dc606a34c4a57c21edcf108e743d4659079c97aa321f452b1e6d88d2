{"ast":null,"code":"// TODO: USE IMPORTDATA HERE TO GENERATE ARRAY OF WRAPPED COMPONENT JOURNAL ENTRIES\n// THEN USE \"ID\" PARAM TO GET CORRECT ARRAY INDEX\nimport { useRouter } from 'next/router';\nimport React, { Component } from 'react'; // import { ImportData } from '../../components/ImportData';\n\nimport parse from 'html-react-parser';\n\nfunction loadJournalEntries() {\n  // const JournalEntryWithData = ImportData(JournalEntry, require.context(JOURNAL_DIR, true, /.txt$/));\n  function getFileMetaData(str) {\n    // TODO: Export to own utility later, to de-duplicate\n    var strArr = str.split('__');\n    var fileDate = strArr[0];\n    fileDate = fileDate.replace('./', '');\n    fileDate = fileDate.slice(2, 4) + '/' + fileDate.slice(4, 6) + '/' + fileDate.slice(0, 2);\n    var fileName = strArr[1];\n    fileName = fileName.replace('.txt', '');\n    fileName = fileName.replace(/_/g, ' ');\n    return [fileName, fileDate];\n  }\n\n  var entriesArray = [];\n\n  var req = require.context(process.env.JOURNAL_DIR, true, /.txt$/);\n\n  req.keys().map(fileName => {\n    entriesArray.push([getFileMetaData(fileName), parse(req(fileName))]);\n  });\n  console.log('entriesArray: ', entriesArray);\n  return entriesArray;\n}\n\nvar JournalEntry = () => {\n  var entriesArray = loadJournalEntries();\n  var router = useRouter();\n  var {\n    id\n  } = router.query;\n  var html = entriesArray[id][1];\n  console.log('html: ', html);\n\n  if (this.myRef && this.myRef.current) {\n    this.myRef.current.scrollIntoView();\n  } else {\n    this.myRef = /*#__PURE__*/React.createRef();\n  } // return <p>JournalEntry: {id}</p>\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: this.myRef,\n    id: \"journalEntryContainer\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"journalEntryDiv-flex\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"previous\"\n  }, id !== 1 ? /*#__PURE__*/React.createElement(Link, {\n    style: {\n      textDecoration: \"none\"\n    },\n    href: \"/journal/\".concat(id - 1)\n  }, \"\\u276E\") : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      textDecoration: \"none\"\n    },\n    href: \"/journal\"\n  }, \"\\u276E \", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"btnTxt\"\n  }, \"(Back)\")))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"htmlDiv\"\n  }, html), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nextBtn\"\n  }, id !== lastEntryId ? /*#__PURE__*/React.createElement(Link, {\n    style: {\n      textDecoration: \"none\"\n    },\n    href: \"/journal/\".concat(id + 1)\n  }, \"\\u276F\") : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      textDecoration: \"none\"\n    },\n    href: \"/journal\"\n  }, \"\\u276F \", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"btnTxt\"\n  }, \"(End)\"))))));\n};\n\nexport default JournalEntry;","map":null,"metadata":{},"sourceType":"module"}